// this one is generated by swagger-codegen as empty struct
// as we define it as inheritance of TestStep
package testkube

import "fmt"

type TestStep struct {
	Type TestStepType `json:"type,omitempty"`

	TestStepDelay
	TestStepExecuteScript
}

func (s TestStep) StopOnFailure() bool {
	// it'll be false if not set
	return s.TestStepExecuteScript.StopTestOnFailure
}

func (s TestStep) FullName() string {
	switch s.Type {
	case DELAY_TestStepType:
		return fmt.Sprintf("Delay: %dms", s.Duration)
	case EXECUTE_SCRIPT_TestStepType:
		return s.TestStepExecuteScript.Name
	default:
		return ""
	}
}
